!function(t){"use strict";t(document).ready(function(){function i(i){if(i){var a=t("#ut-portfolio-details-"+i).find(".active").prev(".ut-portfolio-detail"),e=t("#ut-portfolio-details-"+i).find(".active").next(".ut-portfolio-detail");a.length?t("#ut-portfolio-details-navigation-"+i).find(".prev-portfolio-details").animate({opacity:1},200,"linear",function(){t(this).css("visibility","visible")}):t("#ut-portfolio-details-navigation-"+i).find(".prev-portfolio-details").animate({opacity:0},200,"linear",function(){t(this).css("visibility","hidden")}),e.length?t("#ut-portfolio-details-navigation-"+i).find(".next-portfolio-details").animate({opacity:1},200,"linear",function(){t(this).css("visibility","visible")}):t("#ut-portfolio-details-navigation-"+i).find(".next-portfolio-details").animate({opacity:0},200,"linear",function(){t(this).css("visibility","hidden")}),o()}}function o(){t(".ut-portfolio-details-navigation").each(function(){var i=t(this),o=i.parent(),a=o.find(".active").find(".ut-portfolio-media").height();a>0?(i.find(".next-portfolio-details").animate({top:a/2+45}),i.find(".prev-portfolio-details").animate({top:a/2+45})):(i.find(".next-portfolio-details").animate({top:o.height()/2+45}),i.find(".prev-portfolio-details").animate({top:o.height()/2+45}))})}function a(t){t&&setTimeout(function(){return t.parent().get(0).offsetHeight<t.parent().get(0).scrollHeight?void t.parent().height(t.parent().get(0).scrollHeight):void t.parent().height(t.height())},200)}function e(i){i&&t("#ut-portfolio-detail-"+i).find(".entry-content").fadeOut(600,function(){t(this).html(""),t(this).show()})}function n(i,o){o&&i.find("#ut-video-call-"+o).fadeOut(-600,function(){t(this).html("")})}function l(t,i){i&&t.find("#portfolio-gallery-slider-"+i).hasClass("ut-sliderimages-loaded")}function s(i,o,a){if(i){var e=t("#ut-portfolio-detail-"+i),n=utPortfolio.ajaxurl;t.ajax({type:"POST",url:n,data:{action:"ut_get_portfolio_post_content",portfolio_id:i,show_title:t(".ut-portfolio-"+o).data("slideup-title")},success:function(i){return e.find(".entry-content").html(i).fitVids(),t().lightGallery&&e.lightGallery({selector:".ut-vc-images-lightbox",hash:!1}),!1},complete:function(){a&&"function"==typeof a&&a()}})}}function d(i,o){if(i){var a=t("#ut-portfolio-detail-"+i),e=utPortfolio.ajaxurl;t.ajax({type:"POST",url:e,data:{action:"ut_get_portfolio_post",portfolio_id:i},success:function(t){return a.find(".ut-video-call").show().html(t).fitVids(),!1},complete:function(){o&&"function"==typeof o&&o()}})}}function r(t,i,o){if(t){var a=i.find("#ut-portfolio-detail-"+t).find(".ut-load-me"),e=a.data("original");a.attr("src")?o&&"function"==typeof o&&o():a.attr("src",e).one("load",function(){o&&"function"==typeof o&&o()})}}function f(i,e,n){if(i){var l=e.find("#portfolio-gallery-slider-"+i);l.hasClass("ut-sliderimages-loaded")&&(l.flexslider({animation:"fade",controlNav:!1,animationLoop:!0,slideshow:!1,smoothHeight:!0,startAt:0,after:function(){a(e),o()}}),n&&"function"==typeof n&&n());var s=l.find(".ut-load-me"),d=s.length;d?s.each(function(){var i=t(this),s=i.data("original");i.attr("src",s).removeClass("ut-load-me").one("load",function(){--d||(l.flexslider({animation:"fade",controlNav:!1,animationLoop:!0,slideshow:!1,smoothHeight:!0,startAt:0,after:function(){a(e),o()}}).addClass("ut-sliderimages-loaded"),n&&"function"==typeof n&&n())})}):n&&"function"==typeof n&&n()}}var u=t("img.portfolio-lazy");u.addClass("ut-animate-element animated").css("visibility","hidden").lazyload({event:"scroll",threshold:400,load:function(){t(this).css("visibility","visible").show().addClass("fadeIn")},failure_limit:Math.max(u.length,0)}),t(window).bind("load",function(){setTimeout(function(){},200)}),t().lightGallery&&(t(".ut-portfolio-wrap").not(".ut-portfolio-packery-wrap").lightGallery({selector:'a[data-rel^="ut-lightgallery"]',exThumbImage:"data-exThumbImage",loadVimeoThumbnail:!1,loadYoutubeThumbnail:!1,hash:!1}),t(".ut-portfolio-packery-wrap").lightGallery({selector:'a[data-rel^="ut-lightgallery"]',exThumbImage:"data-exThumbImage",loadVimeoThumbnail:!1,loadYoutubeThumbnail:!1,hash:!1})),t(".ut-hover").each(function(){var i=t(this).closest(".ut-portfolio-wrap").data("textcolor");t(this).find(".ut-hover-layer").css({color:i}),t(this).find(".ut-hover-layer").find(".portfolio-title").attr("style","color: "+i+" !important")}),t(".ut-hover").on("mouseenter touchstart",function(){var i=t(this).closest(".ut-portfolio-wrap").data("hovercolor"),o=t(this).closest(".ut-portfolio-wrap").data("opacity");t(this).find(".ut-hover-layer").css("background","rgba("+i+","+o+")"),t(this).find(".ut-hover-layer").css("opacity",1)}),t(".ut-hover").on("mouseleave touchend",function(){t(this).find(".ut-hover-layer").css("opacity",0)});var c=!1;t(window).utresize(function(){o()}),t(document).on("click",".ut-portfolio-trigger-link",function(i){t(t(this).data("trigger")).trigger("click"),i.preventDefault()}),t(document).on("click",".ut-portfolio-link",function(o){if(c)return!1;c=!0;var a=t(this).data("post"),u=t(this).data("wrap"),p=t("#ut-loader-"+u),h=t("#ut-portfolio-details-wrap-"+u),v=t("#ut-portfolio-details-"+u),g=t("#ut-portfolio-details-navigation-"+u),m=h.find("#ut-portfolio-detail-"+a),y=v.find(".active").data("post"),w=v.find(".active").data("format"),b=t(".ut-portfolio-wrap.ut-portfolio-"+u).data("slideup-width"),C=m.data("format"),x="",O=t("#ut-header").outerHeight(),T=h.is(":visible")?h:t(".ut-portfolio-"+u);p.stop(!0).fadeIn(200,function(){t.scrollTo(T,400,{easing:"linear",offset:-O-g.outerHeight()-60,axis:"y",onAfter:function(){"video"===w&&n(v,y),"gallery"===w&&l(v,y),"centered"===b&&(v.addClass("grid-container"),t("#ut-portfolio-details-navigation-"+u).addClass("grid-container"),x="grid-100"),a!==y&&e(y),v.find(".ut-portfolio-detail.active").attr("class","animated ut-portfolio-detail clearfix").addClass(x).fadeOut(200),m.attr("class","animated ut-portfolio-detail clearfix").addClass(x).addClass("active").css("visibility","hidden").show().slideDown(400,"linear",function(){"gallery"===C?f(a,v,function(){s(a,u,function(){p.fadeOut(200,function(){h.addClass("show"),m.animate({opacity:1},100,"linear",function(){g.slideDown().addClass("show").data("single",a),i(u),setTimeout(function(){t(window).trigger("resize"),h.height(v.outerHeight()+50).addClass("overflow-visible"),m.css("visibility","visible").addClass("animated zoomIn"),t.force_appear(),t(window).trigger("scroll")},200),c=!1})})})}):"video"===C?d(a,function(){s(a,u,function(){p.fadeOut(200,function(){h.addClass("show"),m.animate({opacity:1},100,"linear",function(){g.slideDown().addClass("show").data("single",a),i(u),setTimeout(function(){t(window).trigger("resize"),h.height(v.outerHeight()+50).addClass("overflow-visible"),m.css("visibility","visible").addClass("animated zoomIn")},200),t(window).trigger("scroll"),c=!1})})})}):r(a,v,function(){s(a,u,function(){p.fadeOut(200,function(){h.addClass("show"),m.animate({opacity:1},100,"linear",function(){g.slideDown().addClass("show").data("single",a),i(u),setTimeout(function(){t(window).trigger("resize"),h.height(v.outerHeight()+50).addClass("overflow-visible"),m.css("visibility","visible").addClass("animated zoomIn")},200),t(window).trigger("scroll"),c=!1})})})})})}})}),o.preventDefault()}),t(document).on("click",".next-portfolio-details",function(o){if(o.preventDefault(),c)return!1;c=!0;var a=t(this).data("wrap"),u=t("#ut-portfolio-details-wrap-"+a),p=t(".ut-portfolio-wrap.ut-portfolio-"+a).data("slideup-width"),h="",v=t("#ut-portfolio-details-"+a),g=t("#ut-loader-"+a),m=v.find(".active").next().data("post"),y=v.find(".active").next().data("format"),w=v.find(".active").data("post"),b=v.find(".active").data("format"),C=v.find("#ut-portfolio-detail-"+m);"video"===b&&n(v,w),"gallery"===b&&l(v,w),"centered"===p&&(v.addClass("grid-container"),t("#ut-portfolio-details-navigation-"+a).addClass("grid-container"),h="grid-100"),e(w),v.find("#ut-portfolio-detail-"+w).attr("class","animated ut-portfolio-detail clearfix").addClass("slideOutRight").fadeOut(400,function(){t(this).removeClass("slideOutRight"),g.stop(!0).fadeIn(200,function(){C.addClass("active").addClass(h).css("visibility","hidden").show().slideDown(400,"linear",function(){"gallery"===y?f(m,v,function(){s(m,a,function(){g.fadeOut(200,function(){v.find(".ut-portfolio-details-navigation").data("single",m),C.animate({opacity:1},100,"linear",function(){i(a),setTimeout(function(){u.height(v.outerHeight()+50),C.css("visibility","visible").addClass("slideInLeft")},200),c=!1})})})}):"video"===y?d(m,function(){s(m,a,function(){g.fadeOut(200,function(){v.find(".ut-portfolio-details-navigation").data("single",m),C.animate({opacity:1},100,"linear",function(){i(a),setTimeout(function(){u.height(v.outerHeight()+50),C.css("visibility","visible").addClass("slideInLeft")},200),c=!1})})})}):r(m,v,function(){s(m,a,function(){g.fadeOut(200,function(){v.find(".ut-portfolio-details-navigation").data("single",m),C.animate({opacity:1},100,"linear",function(){i(a),setTimeout(function(){u.height(v.outerHeight()+50),C.css("visibility","visible").addClass("slideInLeft")},200),c=!1})})})})})})})}),t(document).on("click",".prev-portfolio-details",function(o){if(o.preventDefault(),!c){c=!0;var a=t(this).data("wrap"),u=t("#ut-portfolio-details-wrap-"+a),p=t(".ut-portfolio-wrap.ut-portfolio-"+a).data("slideup-width"),h="",v=t("#ut-portfolio-details-"+a),g=t("#ut-loader-"+a),m=v.find(".active").prev().data("post"),y=v.find(".active").prev().data("format"),w=v.find(".active").data("post"),b=v.find(".active").data("format"),C=v.find("#ut-portfolio-detail-"+m);"video"===b&&n(v,w),"gallery"===b&&l(v,w),"centered"===p&&(v.addClass("grid-container"),t("#ut-portfolio-details-navigation-"+a).addClass("grid-container"),h="grid-100"),e(w),v.find("#ut-portfolio-detail-"+w).attr("class","animated ut-portfolio-detail clearfix").addClass("slideOutLeft").fadeOut(400,function(){t(this).removeClass("slideOutLeft"),g.stop(!0).fadeIn(200,function(){C.addClass("active").addClass(h).css("visibility","hidden").show().slideDown(400,"linear",function(){"gallery"===y?f(m,v,function(){s(m,a,function(){g.fadeOut(200,function(){v.find(".ut-portfolio-details-navigation").data("single",m),C.animate({opacity:1},100,"linear",function(){i(a),setTimeout(function(){u.height(v.outerHeight()+50),C.css("visibility","visible").addClass("slideInRight")},200),c=!1})})})}):"video"===y?d(m,function(){s(m,a,function(){g.fadeOut(200,function(){v.find(".ut-portfolio-details-navigation").data("single",m),C.animate({opacity:1},100,"linear",function(){i(a),setTimeout(function(){u.height(v.outerHeight()+50),C.css("visibility","visible").addClass("slideInRight")},200),c=!1})})})}):r(m,v,function(){s(m,a,function(){g.fadeOut(200,function(){v.find(".ut-portfolio-details-navigation").data("single",m),C.animate({opacity:1},100,"linear",function(){i(a),setTimeout(function(){u.height(v.outerHeight()+50),C.css("visibility","visible").addClass("slideInRight")},200),c=!1})})})})})})})}}),t(document).on("click",".close-portfolio-details",function(i){if(i.preventDefault(),c)return!1;c=!0;var o=t(this).data("wrap"),a=t(this).parent().data("single"),s=t("#ut-portfolio-details-wrap-"+o),d=t("#ut-portfolio-details-navigation-"+o),r=t("#ut-portfolio-detail-"+a).data("format");d.removeClass("show").fadeOut(400,function(){t(this).slideUp()}),s.find("#ut-portfolio-detail-"+a).attr("css","animated ut-portfolio-detail clearfix").addClass("zoomOut").animate({opacity:0},200,"linear",function(){t(this).removeClass("zoomOut").css("visibility","hidden"),t("#ut-portfolio-details-wrap-"+o).height(0).delay(800).queue(function(){t(this).removeClass("show").removeClass("overflow-visible").dequeue()}),"video"===r&&n(s,a),"gallery"===r&&l(s,a),e(a),c=!1})})})}(jQuery);